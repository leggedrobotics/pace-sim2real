
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the PACE sim-to-real pipeline for legged robots.">
      
      
      
        <link rel="canonical" href="https://pace.filipbjelonic.com/tutorials/best_practice/">
      
      
        <link rel="prev" href="../advanced/">
      
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Best practices - PACE Sim2Real</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../styles/pace-colors.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#best-practices-for-cma-es-optimization-in-pace" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PACE Sim2Real" class="md-header__button md-logo" aria-label="PACE Sim2Real" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PACE Sim2Real
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Best practices
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/leggedrobotics/pace-sim2real" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    leggedrobotics/pace-sim2real
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../installation/" class="md-tabs__link">
          
  
  
  Getting started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/" class="md-tabs__link">
          
  
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../basics/" class="md-tabs__link">
          
  
  
  Guides

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PACE Sim2Real" class="md-nav__button md-logo" aria-label="PACE Sim2Real" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    PACE Sim2Real
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/leggedrobotics/pace-sim2real" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    leggedrobotics/pace-sim2real
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../importing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Importing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basic usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/anymal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ANYmal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Best practices
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Best practices
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-choose-bounds-carefully" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Choose Bounds Carefully
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Choose Bounds Carefully">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-population-size-vs-runtime-trade-off" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Population Size vs Runtime Trade-off
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Population Size vs Runtime Trade-off">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#practical-guidance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical guidance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-avoid-overfitting-to-a-single-trajectory" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Avoid Overfitting to a Single Trajectory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Avoid Overfitting to a Single Trajectory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#always-validate-on" class="md-nav__link">
    <span class="md-ellipsis">
      
        Always validate on:
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-understand-delay-optimization-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Understand Delay Optimization Limitations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Understand Delay Optimization Limitations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommendation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-always-start-in-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Always Start in Simulation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Always Start in Simulation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mandatory-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mandatory workflow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-monitor-tensorboard-actively" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Monitor TensorBoard Actively
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Monitor TensorBoard Actively">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthy-convergence-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Healthy convergence patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warning-signs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Warning signs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-reproducibility-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Reproducibility &amp; Logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-memory-performance-awareness" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Memory &amp; Performance Awareness
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Memory &amp; Performance Awareness">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommendations_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-hardware-safety-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Hardware Safety Checklist
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-practical-workflow-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Practical Workflow Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-note" class="md-nav__link">
    <span class="md-ellipsis">
      
        Final Note
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-choose-bounds-carefully" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Choose Bounds Carefully
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Choose Bounds Carefully">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-population-size-vs-runtime-trade-off" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Population Size vs Runtime Trade-off
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Population Size vs Runtime Trade-off">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#practical-guidance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Practical guidance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-avoid-overfitting-to-a-single-trajectory" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Avoid Overfitting to a Single Trajectory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Avoid Overfitting to a Single Trajectory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#always-validate-on" class="md-nav__link">
    <span class="md-ellipsis">
      
        Always validate on:
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-understand-delay-optimization-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Understand Delay Optimization Limitations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Understand Delay Optimization Limitations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommendation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-always-start-in-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Always Start in Simulation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Always Start in Simulation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mandatory-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mandatory workflow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-monitor-tensorboard-actively" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Monitor TensorBoard Actively
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Monitor TensorBoard Actively">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#healthy-convergence-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Healthy convergence patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warning-signs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Warning signs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-reproducibility-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Reproducibility &amp; Logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-memory-performance-awareness" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Memory &amp; Performance Awareness
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Memory &amp; Performance Awareness">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommendations_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-hardware-safety-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Hardware Safety Checklist
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-practical-workflow-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Practical Workflow Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-note" class="md-nav__link">
    <span class="md-ellipsis">
      
        Final Note
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="best-practices-for-cma-es-optimization-in-pace">Best Practices for CMA-ES Optimization in PACE<a class="headerlink" href="#best-practices-for-cma-es-optimization-in-pace" title="Permanent link">&para;</a></h1>
<p>This guide documents recommended practices for <strong>safe, efficient, and reliable use of the CMA-ES optimizer in PACE</strong>. It targets standard users who want robust results without diving into deep algorithmic customization.</p>
<p>These recommendations are derived from practical experience with system identification on real legged robots and large-scale simulation campaigns.</p>
<hr />
<h2 id="1-choose-bounds-carefully">1. Choose Bounds Carefully<a class="headerlink" href="#1-choose-bounds-carefully" title="Permanent link">&para;</a></h2>
<p>Parameter bounds define the effective search space of CMA-ES and have the strongest influence on convergence quality.</p>
<h3 id="recommendations">Recommendations<a class="headerlink" href="#recommendations" title="Permanent link">&para;</a></h3>
<ul>
<li>Base bounds on <strong>physically plausible values</strong>, not theoretical extremes.</li>
<li>Use datasheets, prior experiments, or hand tuning as reference.</li>
<li>Avoid overly wide bounds: this slows convergence and destabilizes covariance adaptation.</li>
<li>Avoid overly tight bounds: this leads to local minima and poor generalization.</li>
</ul>
<hr />
<h2 id="2-population-size-vs-runtime-trade-off">2. Population Size vs Runtime Trade-off<a class="headerlink" href="#2-population-size-vs-runtime-trade-off" title="Permanent link">&para;</a></h2>
<p>Population size directly controls exploration quality and computational cost.</p>
<h3 id="practical-guidance">Practical guidance<a class="headerlink" href="#practical-guidance" title="Permanent link">&para;</a></h3>
<ul>
<li>256–512: fast prototyping</li>
<li>512–2048: standard identification</li>
<li>2048–4096+: high-fidelity identification / publication-grade results</li>
</ul>
<p>Scaling behavior:</p>
<div class="highlight"><pre><span></span><code>Runtime ∝ population_size × trajectory_length
GPU memory ∝ population_size × time_steps × joints
</code></pre></div>
<p>Note: Since we parallelize simulation environments, runtime does not scale linearly with population size and depends on your GPU hardware.</p>
<hr />
<h2 id="3-avoid-overfitting-to-a-single-trajectory">3. Avoid Overfitting to a Single Trajectory<a class="headerlink" href="#3-avoid-overfitting-to-a-single-trajectory" title="Permanent link">&para;</a></h2>
<p>A perfect fit to one trajectory does not guarantee real-world performance.</p>
<h3 id="always-validate-on">Always validate on:<a class="headerlink" href="#always-validate-on" title="Permanent link">&para;</a></h3>
<ul>
<li>Different excitation signals (e.g. varying chirp frequencies)</li>
<li>Changed amplitudes</li>
<li>Phase-shifted trajectories</li>
<li>Different PD-gains</li>
</ul>
<blockquote>
<p>Good identification minimizes error across a family of trajectories, not one sequence.</p>
</blockquote>
<hr />
<h2 id="4-understand-delay-optimization-limitations">4. Understand Delay Optimization Limitations<a class="headerlink" href="#4-understand-delay-optimization-limitations" title="Permanent link">&para;</a></h2>
<p>In PACE, delay is internally discretized to an integer value.</p>
<p>Consequences:</p>
<ul>
<li>Optimization landscape is discontinuous</li>
<li>Small changes in parameters may cause sudden behavior jumps</li>
<li>Convergence may appear noisy or unstable</li>
</ul>
<h3 id="recommendation">Recommendation<a class="headerlink" href="#recommendation" title="Permanent link">&para;</a></h3>
<p>Use conservative delay bounds and monitor delay histograms during training.</p>
<hr />
<h2 id="5-always-start-in-simulation">5. Always Start in Simulation<a class="headerlink" href="#5-always-start-in-simulation" title="Permanent link">&para;</a></h2>
<p>Never apply unverified parameters directly to hardware.</p>
<h3 id="mandatory-workflow">Mandatory workflow<a class="headerlink" href="#mandatory-workflow" title="Permanent link">&para;</a></h3>
<ol>
<li>Identify parameters in simulation</li>
<li>Validate on multiple trajectories</li>
<li>Apply conservative limits</li>
<li>Gradually deploy to hardware</li>
<li>Monitor safety metrics (torque, temperature, velocity)</li>
</ol>
<hr />
<h2 id="6-monitor-tensorboard-actively">6. Monitor TensorBoard Actively<a class="headerlink" href="#6-monitor-tensorboard-actively" title="Permanent link">&para;</a></h2>
<p>TensorBoard is not optional — it is a diagnostic tool.</p>
<h3 id="healthy-convergence-patterns">Healthy convergence patterns<a class="headerlink" href="#healthy-convergence-patterns" title="Permanent link">&para;</a></h3>
<ul>
<li>Histogram narrowing over iterations</li>
<li>Slowly improving best score</li>
<li>Stable mean evolution</li>
</ul>
<h3 id="warning-signs">Warning signs<a class="headerlink" href="#warning-signs" title="Permanent link">&para;</a></h3>
<ul>
<li>Histogram collapse early (premature convergence)</li>
<li>Multi-modal distributions persisting</li>
<li>Oscillating delay or bias values</li>
</ul>
<hr />
<h2 id="7-reproducibility-logging">7. Reproducibility &amp; Logging<a class="headerlink" href="#7-reproducibility-logging" title="Permanent link">&para;</a></h2>
<p>For traceable experiments, always log:</p>
<ul>
<li>Parameter bounds</li>
<li>Trajectory settings</li>
<li>Robot model version</li>
</ul>
<p>Even with fixed seeds:</p>
<ul>
<li>Floating-point noise may cause tiny variations</li>
<li>Physics determinism may depend on hardware and driver versions</li>
</ul>
<hr />
<h2 id="8-memory-performance-awareness">8. Memory &amp; Performance Awareness<a class="headerlink" href="#8-memory-performance-awareness" title="Permanent link">&para;</a></h2>
<p>PACE stores population trajectories and histories for analysis.</p>
<p>Be mindful that:</p>
<div class="highlight"><pre><span></span><code>Memory ≈ iterations × population × time_steps × joints
</code></pre></div>
<p>Large experiments can exceed GPU memory silently.</p>
<h3 id="recommendations_1">Recommendations<a class="headerlink" href="#recommendations_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Reduce <code>save_interval</code></li>
<li>Disable full history unless needed</li>
<li>Monitor GPU usage during early runs</li>
</ul>
<hr />
<h2 id="9-hardware-safety-checklist">9. Hardware Safety Checklist<a class="headerlink" href="#9-hardware-safety-checklist" title="Permanent link">&para;</a></h2>
<p>Before deploying to real robots:</p>
<ul>
<li>✅ Simulator behavior stable</li>
<li>✅ No joint oscillations</li>
<li>✅ Torque below safe thresholds</li>
<li>✅ Temperatures monitored</li>
<li>✅ Emergency stop tested</li>
</ul>
<hr />
<h2 id="10-practical-workflow-summary">10. Practical Workflow Summary<a class="headerlink" href="#10-practical-workflow-summary" title="Permanent link">&para;</a></h2>
<p>Recommended pipeline:</p>
<ol>
<li>Define physically sound bounds</li>
<li>Run CMA-ES in simulation</li>
<li>Monitor convergence and histograms</li>
<li>Validate on unseen motions</li>
<li>Gradually introduce to hardware</li>
<li>Iterate and refine</li>
</ol>
<hr />
<h2 id="final-note">Final Note<a class="headerlink" href="#final-note" title="Permanent link">&para;</a></h2>
<p>CMA-ES in PACE is a powerful tool — but with power comes responsibility. Proper bounds, active monitoring, and careful validation are essential for safe and meaningful results. Following these best practices will significantly increase both identification quality and long-term hardware reliability.</p>
<hr />
<p>If you deviate from these guidelines, do so intentionally and document your rationale.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../advanced/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Advanced">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Advanced
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "search.highlight", "search.suggest", "content.code.copy", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>